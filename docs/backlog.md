# Беклог задач Resonance Liminal

## Применение принципов "Атомных привычек" к разработке

### 1. Принцип: Сделайте действие очевидным

**Проблема**: Сложно отслеживать состояние ML-инфраструктуры

**Атомная привычка**: 
- Создавать автоматические дашборды в Grafana для каждой новой метрики
- Добавлять healthcheck для каждого нового сервиса
- Настраивать автоматические алерты на критичные метрики

**Измерение успеха**: 
- 100% сервисов имеют дашборды
- 0 "слепых зон" в мониторинге

### 2. Принцип: Сделайте действие привлекательным

**Проблема**: Низкий приоритет оптимизаций ML-кода

**Атомная привычка**:
- Добавлять бенчмарки для каждой ML-функции
- Визуализировать ускорение в PR-описании
- Публиковать еженедельные отчеты об улучшениях производительности

**Измерение успеха**:
- Каждая оптимизация показывает конкретный выигрыш в цифрах
- Снижение времени инференса на 5% каждый месяц

### 3. Принцип: Сделайте действие легким

**Проблема**: Сложность настройки и запуска ML-инфраструктуры

**Атомная привычка**:
- Создать единый скрипт запуска всей ML-инфраструктуры
- Автоматизировать настройку окружения через Makefile
- Подготовить тестовые наборы данных для быстрой проверки

**Измерение успеха**:
- Запуск полной инфраструктуры одной командой
- Время настройки нового окружения < 30 минут

### 4. Принцип: Сделайте действие удовлетворительным

**Проблема**: Слабая обратная связь при работе с ML-моделями

**Атомная привычка**:
- Добавить автоматические отчеты о качестве моделей
- Создать наглядную визуализацию улучшений в XAI
- Внедрить геймификацию процесса оптимизации моделей

**Измерение успеха**:
- Каждый PR включает визуализацию улучшений
- Еженедельный отчет об улучшениях моделей

## Беклог задач по принципу 1% улучшений

### Критические задачи (Priority 1)

1. **[P1] Исправить баги в Feature Extractor**
   - Добавить обработку ошибок при недоступности backend API
   - Исправить утечку памяти при долгой работе

2. **[P1] Оптимизировать PowerShell скрипты для русской раскладки**
   - Исправить проблемы с кодировкой в Windows 11
   - Добавить обработку кириллицы в путях

3. **[P1] Настроить отказоустойчивость ML-сервисов**
   - Добавить retry-механизмы для Redis и Prometheus
   - Настроить корректное восстановление после падений

### Важные задачи (Priority 2)

4. **[P2] Расширить набор ML-признаков**
   - Добавить географический анализ IP-адресов
   - Интегрировать анализ временных паттернов активности

5. **[P2] Улучшить XAI-интеграцию**
   - Добавить SHAP-объяснения к предсказаниям аномалий
   - Внедрить визуализацию объяснений через API

6. **[P2] Настроить Grafana дашборды для ML-метрик**
   - Создать дашборд аномалий
   - Добавить дашборд производительности моделей
   - Настроить алерты на основе ML-метрик

### Улучшения (Priority 3)

7. **[P3] Оптимизировать докер-образы**
   - Уменьшить размер образов через multi-stage builds
   - Оптимизировать слои для уменьшения времени сборки

8. **[P3] Внедрить Multi-LLM интеграцию**
   - Добавить поддержку Claude для анализа безопасности
   - Интегрировать GPT-4 для объяснения аномалий
   - Настроить консенсус-механизм между моделями

9. **[P3] Автоматизировать тестирование ML-пайплайна**
   - Создать тесты для полного цикла от сбора признаков до предсказаний
   - Внедрить автоматические нагрузочные тесты

## Решение проблем с PowerShell при русской раскладке в Windows 11

### Основные проблемы

1. **Проблемы с кодировкой в PowerShell**:
   - Некорректное отображение кириллицы в выводе команд
   - Ошибки при передаче параметров с кириллицей
   - Проблемы с путями, содержащими русские символы

2. **Проблемы с командами cd/Set-Location**:
   - Ошибки при переходе в директории с кириллическими именами
   - Проблемы с автодополнением путей с кириллицей

3. **Проблемы с Docker и WSL**:
   - Некорректная передача русских параметров в контейнеры
   - Ошибки монтирования томов с кириллическими путями

### Решения

#### 1. Исправление проблем с кодировкой

```powershell
# В начале скриптов добавлять:
[Console]::OutputEncoding = [System.Text.Encoding]::UTF8
$PSDefaultParameterValues['*:Encoding'] = 'utf8'

# Для вывода кириллицы в терминал:
Write-Host "Текст на русском" -Encoding UTF8
```

#### 2. Исправление проблем с cd/Set-Location

```powershell
# Вместо алиаса cd использовать полное имя Set-Location:
Set-Location -LiteralPath "C:\Путь\с русскими\символами"

# Для путей с пробелами и кириллицей:
Set-Location -LiteralPath $ExecutionContext.SessionState.Path.GetUnresolvedProviderPathFromPSPath("./Путь с пробелами и кириллицей")
```

#### 3. Решение проблем с Docker и WSL

```powershell
# Для передачи переменных среды с кириллицей:
$env:DOCKER_ENCODING = "UTF-8"
docker run -e "ПЕРЕМЕННАЯ=$($ExecutionContext.InvokeCommand.ExpandString($env:ПЕРЕМЕННАЯ))" ubuntu

# Для монтирования томов с кириллическими путями:
$volumePath = $ExecutionContext.SessionState.Path.GetUnresolvedProviderPathFromPSPath("./Путь/с русскими")
docker run -v "${volumePath}:/container/path" ubuntu
```

#### 4. Общие рекомендации

1. Использовать абсолютные пути вместо относительных
2. Избегать кириллицы в именах файлов для критичных компонентов
3. Использовать `-LiteralPath` вместо `-Path` для работы с файлами
4. Добавить проверку кодировки в начале каждого скрипта
5. Для автоматизации CI/CD создать wrapper-скрипты, обрабатывающие кодировку

## Создание атомных привычек для решения проблем

### Ежедневные привычки (1% улучшения)

1. **Привычка**: Запускать автоматический линтинг кода
   - **Триггер**: Перед каждым коммитом
   - **Действие**: Запуск `./scripts/lint.ps1`
   - **Награда**: Чистая история коммитов

2. **Привычка**: Проверять работоспособность ML-компонентов
   - **Триггер**: После развертывания инфраструктуры
   - **Действие**: Запуск `./scripts/ml-health-check.ps1`
   - **Награда**: Раннее обнаружение проблем

3. **Привычка**: Добавлять тесты для новой функциональности
   - **Триггер**: После реализации новой функции
   - **Действие**: Создание теста
   - **Награда**: Уверенность в работоспособности

### Еженедельные привычки

1. **Привычка**: Анализ производительности ML-моделей
   - **Триггер**: Каждый понедельник
   - **Действие**: Запуск бенчмарков и анализ результатов
   - **Награда**: Выявление узких мест

2. **Привычка**: Рефакторинг проблемных мест
   - **Триггер**: Каждая пятница
   - **Действие**: Выбор одной проблемной области и её улучшение
   - **Награда**: Постепенное улучшение кодовой базы
