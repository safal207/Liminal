<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Test Button</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        button { padding: 10px 20px; margin: 10px; cursor: pointer; }
        #result { margin-top: 20px; padding: 10px; border: 1px solid #ccc; min-height: 100px; }
    </style>
</head>
<body>
    <h1>Тестовые кнопки</h1>
    <p>Проверка работы API-вызовов</p>
    
    <button onclick="seedDemo()">Посеять (Seed Demo)</button>
    <button onclick="refresh()">Обновить (Refresh)</button>
    <button onclick="testConsole()">Проверить консоль</button>
    
    <div id="result">Результаты будут здесь...</div>
    
    <script>
        // Функция для вызова API seed-demo
        async function seedDemo() {
            try {
                document.getElementById('result').innerHTML = 'Вызываем /api/seed-demo...';
                const response = await fetch('/api/seed-demo', {method: 'POST'});
                const data = await response.json();
                document.getElementById('result').innerHTML = 'Успех! Создано: ' + JSON.stringify(data);
            } catch (error) {
                document.getElementById('result').innerHTML = 'Ошибка: ' + error.message;
                console.error('Ошибка при вызове seed-demo:', error);
            }
        }
        
        // Функция для вызова API top-at-risk
        async function refresh() {
            try {
                document.getElementById('result').innerHTML = 'Вызываем /api/top-at-risk...';
                const response = await fetch('/api/top-at-risk');
                const data = await response.json();
                document.getElementById('result').innerHTML = 'Успех! Получено: ' + JSON.stringify(data);
            } catch (error) {
                document.getElementById('result').innerHTML = 'Ошибка: ' + error.message;
                console.error('Ошибка при вызове top-at-risk:', error);
            }
        }
        
        // Функция для проверки консоли
        function testConsole() {
            console.log('Тест консоли работает');
            document.getElementById('result').innerHTML = 'Проверьте консоль браузера (F12)';
        }
    </script>
</body>
</html>
